<html>
  <body>
    <p>This example works on console only, for UI example please take a look at FiFoList.</p>
        
    <script type="text/javascript" src="../neverending-streaming.js" ></script>
    <script type="text/javascript" >
    
    var a = new AjaxNeverendingStreaming('get.php', {
      // These are the default values:
      maxTurns: 1,
      tag: 'chunk', // tag in php response.
      interval: 500, // interval to parse response without jquery.
      prepend: false, // new line should be rather appended or prepended.
      useJSON: false, // server sends JSON chunks wrapped to xml tag.
      stopped: false // initially stopped. Could be started with method "resume".
      // Custom callbacks:
      //onChunk: function(chunk, detail){}, // Default is to trigger jquery event "longpolling-chunk"
	    //onChunk: 'log', // there could be also used string [log, exec] or other.
      //onRequest: function(detail){}, // Default is to trigger jquery event "longpolling-request"
      //onComplete: function(detail){}, // Default is to trigger jquery event "longpolling-complete"
      //onError: function(detail){}, // Default is to trigger jquery event "longpolling-error"
      //onAbort: function(detail){}, // Default is to trigger jquery event "longpolling-abort"
      //onSuccess: function(detail){}, // Default is to trigger jquery event "longpolling-success"
      //onAllDone: function(detail){} // Default is to trigger jquery event "longpolling-all-done"
    });

    // stop after 5 seconds, to see if stop method works:
    setTimeout(function(){console.log('stop');  a.stop();  }, 5000);

    // resume after 10 seconds, to see what is resume for:
    setTimeout(function(){console.log('resume');  a.resume();  }, 10000);
	    
    // if onMessage is string, other then [log, exec], for example "blue", 
    setTimeout(function(){console.log('options');  a.options({onChunk: 'blue'});  }, 30000);
    // we are triggering events, with such name:
    $('body').on('blue', function(ev){
      console.log('BLUE', ev);
    })

    </script>
  </body>
</html>
